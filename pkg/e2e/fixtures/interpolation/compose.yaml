services:
  test:
    image: alpine
    command: env
    environment:
      - FOO
      - BAR=bar_from_environment
      - BY_PROVIDER_FROM_ENV=${EXAMPLE_URL}
      - INTERPOLATED=${TEST1}-${TEST2}
      - BY_IMPLICIT_OVERRIDE_FILE=${IMPLICIT_OVERRIDE_FILE}
      - BY_IMPLICIT_OVERRIDE_FROM_IMPLICIT_ENV_FILE=${IMPLICIT_OVERRIDE_FROM_IMPLICIT_ENV_FILE}
      - BY_EXPLICIT_OVERRIDE_FROM_IMPLICIT_ENV_FILE=${EXPLICIT_OVERRIDE_FROM_IMPLICIT_ENV_FILE}
    env_file:
     - env_file.env
    depends_on:
      - example

  example:
    provider:
      type: example-provider
      options:
        type: test
        name: example
        size: 0
